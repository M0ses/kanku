<html><head><title>Kanku::Roles::SSH</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.35,
  using Pod::Simple::PullParser v3.35,
  under Perl v5.028001 at Mon Nov  4 10:08:05 2019 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<a name='___top' class='dummyTopAnchor' ></a>

<h1><a class='u'
name="NAME"
>NAME</a></h1>

<p>Kanku::Roles::SSH - A generic role for handling ssh connections using Net::SSH2</p>

<h1><a class='u'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>  package Kanku::Handler::MySSHHandler;
  use Moose;
  with &#39;Kanku::Roles::SSH&#39;;

  sub execute {
    my ($self) = @_;

    ...

    $self-&#62;get_defaults();

    $self-&#62;connect();

    $self-&#62;exec_command(&#34;/bin/true&#34;);
  }</pre>

<h1><a class='u'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This module contains a generic role for handling ssh connections in kanku using Net::SSH2</p>

<h1><a class='u'
name="METHODS"
>METHODS</a></h1>

<h2><a class='u'
name="get_defaults"
>get_defaults</a></h2>

<h2><a class='u'
name="connect"
>connect</a></h2>

<h2><a class='u'
name="exec_command"
>exec_command</a></h2>

<h1><a class='u'
name="ATTRIBUTES"
>ATTRIBUTES</a></h1>

<pre>  ipaddress         : IP address of host to connect to

  publickey_path    : path to public key file (optional)

  privatekey_path   : path to private key file

  passphrase        : password to use for private key

  username          : username used to login via ssh

  connect_timeout   : time to wait for successful connection to host

  job               : a Kanku::Job object (required for context)

  ssh2              : a Net::SSH2 object (usually created by role itself)

  auth_type         : SEE Net::SSH2 for further information</pre>

<h1><a class='u'
name="CONTEXT"
>CONTEXT</a></h1>

<h2><a class='u'
name="getters"
>getters</a></h2>

<pre>  ipaddress

  publickey_path

  privatekey_path</pre>

<h2><a class='u'
name="setters"
>setters</a></h2>

<pre>  NONE</pre>

<h1><a class='u'
name="DEFAULTS"
>DEFAULTS</a></h1>

<pre>  privatekey_path       : $HOME/.ssh/id_rsa

  publickey_path        : $HOME/.ssh/id_rsa.pub

  username              : root

  connect_timeout       : 300 (sec)

  auth_type             : agent</pre>

<!-- end doc -->

</body></html>
